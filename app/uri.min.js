(function(){window.URI=function(a,b){this.address="",this.page={},window.onpopstate=a=>{this._call(a.state)},this.onRedirect(a=>{this.page=a,this.address=location.href.split("#")[1]}),1===location.href.split("#").length?this.set(a,b):this._orh&&this._orh.forEach(a=>a({}))},window.URI.prototype={set(a,b={}){if("string"!=typeof a||"object"!=typeof b)throw`Invalid input variables`;return window.history.pushState(b,"",a),this._call(b),this},_call(a){this._orh&&this._orh.forEach(b=>b(a||{}))},onRedirect(a){if("function"!=typeof a)throw`Callback must be function`;return this._orh.push(a),this},_orh:[]}})();