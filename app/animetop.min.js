(function(){window.animetop={POOL_REQUEST:"https://api.animetop.info/v1",_request(a,b={}){return new Promise((c,d)=>{let e=new XMLHttpRequest;e.onreadystatechange=()=>{if(4!==e.readyState||200!==e.status)return!1;let a;try{a=JSON.parse(e.responseText)}catch(a){return d(a)}return c(a)},e.open(b.hasOwnProperty("method")?b.method:"GET",a,!0),b.hasOwnProperty("method")&&"POST"===b.method.toLocaleUpperCase()&&e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(b.data?b.data:null)})},list(a=1,b=40){return!(40<b)&&this._request(`${this.POOL_REQUEST}/last?page=${a}&quantity=${b}`)},search(a){return!(4>a.toString().length)&&this._request(`${this.POOL_REQUEST}/search`,{method:"POST",data:`name=${a}`})},timetable(){return this._request(`${this.POOL_REQUEST}/rasp`)},anime(a){return this._request(`${this.POOL_REQUEST}/info`,{method:"POST",data:`id=${a}`})},comments(a){return this._request(`${this.POOL_REQUEST}/comments?id=${a}`)}}})();