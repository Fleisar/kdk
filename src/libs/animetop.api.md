# Документация по API AnimeTop

API пул: https://api.animetop.info/v1

Video: https://video.animetop.info/id.mp4

Poster: https://media.animegost.org/img/id.jpg

### Методы

- **/rasp** - расписание релизов аниме с animevost
- **/info** - информация об отдельном аниме тайтле
- **/last** - список последних обновлений аниме
- **/search** - поиск аниме по названию
- **/comments** - комментации под определённым аниме

------------

## RASP

###### расписание релизов аниме с animevost

Метод: **GET**

Входные значения: **(нет)**

#### Структура:

```json
[
    {
        "id": <id в цифровом значении от 0>,
        "time": <примерное московское время в формате "00:00" строкового типа>,
        "name": <название тайтла строкового типа>,
        "day": <дней до релиза? или день недели в цифровом формате от 0 до 6>
    },
    ...
]
```

## INFO

###### информация об отдельном аниме тайтле

Метод: **POST**

Входные значения: **id** (число от 0)

#### Структура:

```json
{
    "state": {
        "status": "ok",
        "rek": 1,
        "page": 0,
        "count": 0
    },
    "data": [
        {
            "screenImage": <массив относительных ссылок на изображения (https://static.openni.ru)>,
            "rating": <число>,
            "description": <описание тайтла>,
            "series": <JSON string> {
                <название серии>: <id серии на сайте>,
                ...
            },
            "director": <директор>,
            "urlImagePreview": <ссылка на постер>,
            "year": <строковый год выпуска>,
            "genre": <перечисление жанров через запятую>,
            "id": <id тайтла>,
            "votes": <кол-во голосов на animevost>,
            "isFavorite":0,
            "title": <название аниме>,
            "timer": <строковое unix время в секундах>,
            "type": <тип тайтла>,
            "isLikes": <булев>
        }
    ]
}
```

## LAST

###### список последних обновлений аниме

Метод: **POST**

Входные значения: **page** (номер страницы)(число от 0), **quantity** (количество возвращаемых тайтлов)(число до 40)

#### Структура:

```json
{
    "state": {
        "status": "ok",
        "rek": 1,
        "page": <номер страницы>,
        "count": <общее кол-во результатов>
    },
    "data": [
        {
            "screenImage": <массив относительных ссылок на изображения (https://static.openni.ru)>,
            "rating": <число>,
            "description": <описание тайтла>,
            "series": <JSON string> {
                <название серии>: <id серии на сайте>,
                ...
            },
            "director": <директор>,
            "urlImagePreview": <ссылка на постер>,
            "year": <строковый год выпуска>,
            "genre": <перечисление жанров через запятую>,
            "id": <id тайтла>,
            "votes": <кол-во голосов на animevost>,
            "isFavorite":0,
            "title": <название аниме>,
            "timer": <строковое unix время в секундах>,
            "type": <тип тайтла>,
            "isLikes": <булев>
        },
        ...
    ]
}
```

## SEARCH

###### поиск аниме по названию

Метод: **POST**

Входные значения: **name** (текст поиска)

#### Структура: [аналогична LAST]

```json
{
    "state": {
        "status": "ok",
        "rek": 1,
        "page": <номер страницы>,
        "count": <общее кол-во результатов>
    },
    "data": [
        {
            "screenImage": <массив относительных ссылок на изображения (https://static.openni.ru)>,
            "rating": <число>,
            "description": <описание тайтла>,
            "series": <JSON string> {
                <название серии>: <id серии на сайте>,
                ...
            },
            "director": <директор>,
            "urlImagePreview": <ссылка на постер>,
            "year": <строковый год выпуска>,
            "genre": <перечисление жанров через запятую>,
            "id": <id тайтла>,
            "votes": <кол-во голосов на animevost>,
            "isFavorite":0,
            "title": <название аниме>,
            "timer": <строковое unix время в секундах>,
            "type": <тип тайтла>,
            "isLikes": <булев>
        },
        ...
    ]
}
```

## Comments

###### комментации под определённым аниме

Метод: **GET**

Входные значения: **id** (число от 0)

#### Структура:

```json
{
    "state": {
        "status": "ok",
        "page": 1
    },
    "data": [
        {
            "date": <дата комментария в формате "D, d M Y H:i:s \G\M\T">,
            "author": <ник автора>,
            "avatar": <ссылка на аватар автора>,
            "text": <текст сообщения>
        },
		...
    ]
}
```
